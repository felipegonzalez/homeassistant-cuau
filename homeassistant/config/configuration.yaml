# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

homeassistant:
  customize: !include customize.yaml
  packages: !include_dir_named packages

logger:
  default: info

person:

lovelace:
  mode: yaml

recorder:
  db_url: !secret hass_db
  purge_keep_days: 20
  purge_interval: 1
  exclude: 
    entities:
      - weather.dark_sky 
      - sun.sun
      - sensor.date_time
      - sensor.time
      - sensor.time_date
      - sensor.date
      - sensor.iphonesef_battery_level
      - sensor.iphonesef_battery_state
      - sensor.iphone_tere_battery_level
      - sensor.iphone_tere_battery_state
      - camera.front_door
      - sensor.memory_free
      - sensor.load_1m
      - sensor.ups_input_voltage
      - sensor.ups_battery
      - sensor.ups_time_left
      - sensor.ups_loadpct

script: !include scripts.yaml
binary_sensor: !include binary_sensor.yaml
#switch: !include switch.yaml
#camera: !include camera.yaml
light: !include lights.yaml
sensor: !include sensors.yaml
media_player: !include media_player.yaml
group: !include groups.yaml
automation: !include_dir_merge_list automation/


###### zoneminder

zoneminder:
  - host: 192.168.100.51
    username: !secret zm_user
    password: !secret zm_pass

# Text to speech
tts:
  - platform: amazon_polly
    aws_access_key_id: !secret aws_access_key_id
    aws_secret_access_key: !secret aws_secret_access_key
    voice: Penelope

mqtt:
  broker: 192.168.100.50
  port: 1883
  client_id: home-assistant-1

ios:

notify:
  - name: iphone_tyf
    platform: group
    services:
      - service: ios_iphone_tere
      - service: ios_iphonesef

apple_tv:
  - name: bedroom_apple_tv
    host: 192.168.100.206
    login_id: !secret apple_tv_login
  - name: tv_room_apple_tv
    host: 192.168.100.15
    login_id: !secret apple_tv_login

##### inputs, timers #############

input_boolean:
  sleep_mode:
    name: "Sleep mode"
    initial: off
    icon: mdi:sleep
  washing_machine_high:
    name: "washing machine high"
    initial: off
  washing_machine_cycle:
    name: "washing machine cycle"
    initial: off



##############
# Cloud alexa
cloud:
  alexa:
    filter:
      exclude_entities:
        - light.backyard
        - light.bedroom_one
        - light.bedroom_two
        - light.caballeriza_dos
        - light.caballeriza_uno
        - light.dining_hall_1
        - light.dining_hall_2
        - light.downstairs_bath
        - light.dressing_room
        - light.entrance_ahll
        - light.entrance_table
        - light.front_door
        - light.hue_bloom_1
        - light.kitchen_lights_day
        - light.kitchen_one
        - light.kitchen_two
        - light.living_room_foot_1
        - light.living_room_foot_2
        - light.living_room_wall
        - light.main_bath_three
        - light.main_bath_two
        - media_player.office
        - light.pasillo_coronas
        - light.patio_stairs_one
        - light.patio_stairs_two
        - light.patio_stairs_three
        - light.stairs
        - light.study
        - light.study_tere
        - light.tv_room
